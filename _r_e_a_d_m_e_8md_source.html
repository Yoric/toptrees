<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Tree Compression with Top Trees Revisited: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tree Compression with Top Trees Revisited
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_r_e_a_d_m_e_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Tree Compression with Top Trees Revisited</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This implementation accompagnies the paper &quot;Tree Compression with Top Trees Revisited&quot; by Rajeev Raman and me (Lorenz HÃ¼bschle-Schneider), to be published in the SEA 2015 proceedings. A [technical report](http://arxiv.org/abs/1506.04499) is available on the arXiv (arXiv:1506.04499 [cs.DS]).</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;The central part is the implementation of top tree compression, but this repository also contains RePair compression, the generation of random trees, and some utilities around it.</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;## Implementation</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;Nearly all of the actual code is implemented in the header files (`.h`). This allows the compiler to perform extensive optimisations. Each of the `.cpp` files in this folder can be compiled into an executable with GNU Make and the provided `Makefile`.</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;The executables are:</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;- `coding` reads an XML file, compresses it with our method, and computes the size of an encoding that is suitable for storage and unpacking. It does not produce an actual encoded output file. It supports both classical top tree compression as well as our RePair-inspired combiner. Usage information is available with the command line switches `-h` or `--help`</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;- `randomEval` applies the top tree compression algorithm to trees generated uniformly at random. Command line switches specify the number and size of trees to evaluate, the number of trees to evaluate in parallel (as threads), as well as the label alphabet size and the random seed. Help is available with the `-h` or `--help` switches.</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;- `randomVerify` works similarly to `randomEval`, but computes the top tree and unpacks it again, comparing the result of that with the input tree. This allows us to experimentally verify the correctness of our implementation, using both classic and RePair-like combining. Parameters are similar to `randomEval`.</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;- `test` apllies the compression algorithm to a single XML file and prints some statistics about the result. In most cases, `coding` should be used. Pass `-w` to write output DOT-files for top tree and Top DAG to `/tmp` and invoke the GraphViz `dot` command on them (warning: this can take a very long time for large graphs!). Pass `-r` for RePair-like combiner.</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;- `testTT` works similarly to `test` but performs unpacking of the Top DAG to verify correctness. Specify input file with `-i`, output folder for the trimmed and recovered XML files with `-o` (default: `/tmp`), and pass `-r` to use the RePair-inspired combiner.</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;- `repair` applies the RePair compression algorithm to the input file, printing the grammar and output string to stdout if `-v` is set.</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;- `randomTree` generates trees uniformly at random. Tree and alphabet size, seed, and output folder for an XML file (default: don&#39;t write) can be specified, as well as DOT graph plotting similar to `test`. Pass `-h` or `--help` for full usage information.</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;## A Note on Experiments</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;Some of the binaries output a line starting with &quot;RESULT&quot; and containing key-value pairs. This line is for parsing with Timo Bingmann&#39;s [SqlPlotTools](https://github.com/bingmann/sqlplot-tools) and was used to automatically update the plots, tables, and numbers in the paper as experiments were re-run after changes in the code. Don&#39;t give copy-paste errors a chance!</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;## Compiling</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;All algorithms are implemented in C++11 and have been tested with the GNU C++ compiler, `g++`, in version 4.9 and `clang++` in version 3.6. To build one of the above executables including debug assertions (which can cause significant overhead!), the executable name serves as `make` target, e.g. `make coding`. A version with debug information and without optimisations for debugging can be compiled by appending `Debug` to the executable name, while appending `NoDebug` disables assertions (example: `make randomEvalNoDebug`). For some executables, a target for profile guided optimisation builds is available as well, this might require changing of XML file paths in the Makefile. The suffix for these is `PGO`. The binaries will be suffixed with `-p`, e.g. `coding-p`.</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;**Notes:** `clang++` requires the `gold` linker and linker plugin to use link-time optimisations, which are enabled by default on all non-`Debug` builds. If this causes problems on your systems, remove `-flto` from line 6 and all occurences of `=$(NPROCS)` in the `Makefile`.</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;Prior to version 3.6, the `clang++` compiler did not support debug information with the upcoming `c++1y` standard. If you require support for `clang++` 3.4 or 3.5, remove `-g` from the flags. </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;Additional `make` targets are available for static analysis with `cppcheck` (warning: many false positives, as it does not seem to have, among others, support for C++11 lambdas) and `scan-build`.</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;The code was tested and run under Debian GNU/Linux in the unstable distribution as of June 2015, but should work on all Linux-based systems. Adaptation for other operating systems will most likely require a change of paths (e.g. &#39;/tmp&#39;), the `makePathRecursive` function in `Common.h` and the `drawSvg` function in `DotGraphExporter.h`. Additionally, the Makefile requires adaptation to discover the number of available processors for link-time optimisation. POSIX threads (pthreads) are a requirement for the `randomEval` and `randomVerify` commands.</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 23 2015 18:13:59 for Tree Compression with Top Trees Revisited by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
